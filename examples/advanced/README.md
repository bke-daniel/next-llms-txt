# Advanced Example

This example demonstrates advanced usage of `next-llms-txt` including custom generators.

## Custom Generator

You can provide a custom generator function to have full control over the output:

```typescript
import { createLLMsTxtHandlers, LLMsTxtConfig } from 'next-llms-txt'

export const { GET } = createLLMsTxtHandlers({
  baseUrl: 'https://mysite.com',
  defaultConfig: {
    title: 'My Advanced App',
    description: 'A sophisticated application',
    sections: [
      {
        title: 'Core Documentation',
        items: [
          {
            title: 'Architecture',
            url: '/docs/architecture.md',
            description: 'System architecture overview'
          }
        ]
      }
    ]
  },
  generator: (config: LLMsTxtConfig) => {
    // Custom generation logic
    let output = `# ${config.title}\n\n`

    if (config.description) {
      output += `> ${config.description}\n\n`
    }

    // Add a custom header
    output += `<!-- Generated by next-llms-txt -->\n\n`

    // Generate sections
    if (config.sections) {
      for (const section of config.sections) {
        output += `## ${section.title}\n\n`
        for (const item of section.items) {
          const desc = item.description ? `: ${item.description}` : ''
          output += `- [${item.title}](${item.url})${desc}\n`
        }
        output += '\n'
      }
    }

    // Add a footer
    output += `---\n\nLast updated: ${new Date().toISOString()}\n`

    return output
  }
})
```

## Dynamic Content

Generate dynamic content based on your application state:

```typescript
import { createLLMsTxtHandlers } from 'next-llms-txt'
import { getDocumentation } from '@/lib/docs'

export const { GET } = createLLMsTxtHandlers({
  title: 'Dynamic Docs',
  description: 'Dynamically generated documentation',
  get sections() {
    // Fetch docs dynamically
    const docs = getDocumentation()
    return [
      {
        title: 'Latest Documentation',
        items: docs.map(doc => ({
          title: doc.title,
          url: `/docs/${doc.slug}`,
          description: doc.excerpt
        }))
      }
    ]
  }
})
```

## Multiple Languages

Support multiple languages by creating different handlers:

```typescript
// lib/llmstxt-en.ts
export const { GET } = createLLMsTxtHandlers({
  title: "My Project",
  description: "English documentation",
  sections: [...]
});

// lib/llmstxt-es.ts
export const { GET } = createLLMsTxtHandlers({
  title: "Mi Proyecto",
  description: "Documentación en español",
  sections: [...]
});

// app/llms.txt/route.ts
import { GET } from "@/lib/llmstxt-en";
export { GET };

// app/es/llms.txt/route.ts
import { GET } from "@/lib/llmstxt-es";
export { GET };
```

## Optional Section

The `optional` field follows the [llmstxt.org specification](http://llmstxt.org) for secondary information that can be skipped if a shorter context is needed:

```typescript
export const { GET } = createLLMsTxtHandlers({
  title: 'My Project',
  description: 'A brief summary',
  sections: [
    {
      title: 'Core Documentation',
      items: [
        {
          title: 'Getting Started',
          url: '/docs/getting-started',
          description: 'Essential setup and usage',
        },
      ],
    },
  ],
  // Optional section - secondary information that can be skipped
  optional: [
    {
      title: 'Advanced Configuration',
      url: '/docs/advanced-config',
      description: 'Detailed configuration options for power users',
    },
    {
      title: 'Legacy Documentation',
      url: '/docs/legacy',
      description: 'Documentation for previous versions',
    },
  ],
})
```

Use the Optional section for:

- Legacy documentation
- Advanced configuration guides  
- Secondary resources
- External dependencies documentation
